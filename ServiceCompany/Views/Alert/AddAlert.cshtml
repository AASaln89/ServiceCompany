@using ServiceCompany.Models.Alerts
@model AlertViewModel

@{
    Layout = "_LayoutServiceCompany";
}

@section Style
{
    <link href="~/css/ServiceCompany.css" rel="stylesheet" />
    <link href="~/css/alerts.css" rel="stylesheet" />
}

@section Script
{
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/alertManage.js"></script>
}

<div class="alert-container">
    <div>
        <h3>Add Alert</h3>
        <form method="post">
            <div>
                <label for="message">Alert message: </label>
                <input type="text" name="message" required />
            </div>
            <div>
                <label for="expireDate">Expire date: </label>
                <input type="date" name="expireDate" required />
            </div>
            <div>
                <label for="push">Add alert: </label>
                <input class="add-alert-button" name="push" type="submit" value="confirm" />
            </div>
        
        <div class="last-alerts-list">
            @foreach (var alert in Model.LastAlerts)
            {
                <div class="last-alert-block" data-id="@alert.AlertId">
                    @alert.Message <span class="separator-info-alert"> || </span> @alert.CreationDate  
                    @if (Model.IsSuperAdmin)
                    {
                        <span class="separator-info-alert"> |||| </span>
                        <span class="remove-alert">remove</span>
                    }
                </div>
            }
        </div>
        </form>
    </div>
</div>